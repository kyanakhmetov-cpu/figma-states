import type { ElementStateType } from "@prisma/client";

export const translations = {
  en: {
    "language.label": "Language",
    "language.en": "EN",
    "language.ru": "RU",
    "sidebar.library": "Library",
    "sidebar.elements": "Elements",
    "sidebar.newElement": "New element",
    "sidebar.project": "Project",
    "sidebar.newProject": "New project",
    "sidebar.createProjectTitle": "Create project",
    "sidebar.projectName": "Project name",
    "sidebar.projectDescription": "Description (optional)",
    "sidebar.create": "Create",
    "sidebar.searchPlaceholder": "Search title, file key, project...",
    "sidebar.noMatches": "No matches found.",
    "sidebar.createElement": "Create element",
    "sidebar.groupElements": "Elements",
    "sidebar.projectNameRequired": "Project name is required.",
    "sidebar.projectCreated": "Project created.",
    "sidebar.projectCreateError": "Could not create project.",
    "sidebar.allProjects": "All projects",
    "editor.editDetailsTitle": "Edit element details",
    "editor.editDetailsDescription":
      "Update the title and Figma link for this element.",
    "editor.titleLabel": "Title",
    "editor.figmaLinkLabel": "Figma link",
    "editor.openInFigma": "Open in Figma",
    "editor.fileKeyNotParsed": "File key not parsed",
    "editor.deleteElement": "Delete element",
    "editor.deleteElementTitle": "Delete this element?",
    "editor.deleteElementDescription":
      "This will remove the element and all its states.",
    "editor.addState": "Add state",
    "editor.filterTitle": "Filter & search",
    "editor.searchPlaceholder": "Search title, copy, condition, locale...",
    "editor.clearFilters": "Clear filters",
    "editor.all": "All",
    "editor.filterTip": "Tip: click a type to focus or search for specific copy.",
    "editor.reorderTip": "Reordering is available when no filters are applied.",
    "editor.statesTitle": "States",
    "editor.statesCount": "Showing {shown} of {total}",
    "editor.quickAdd": "Quick add state",
    "editor.emptyStates":
      "No states yet. Add your first error, helper, or empty state copy.",
    "editor.addStateCta": "Add a state",
    "editor.searchLabel": "Search",
    "editor.shortcutPrefix": "Tip: Press",
    "editor.shortcutSuffix": "to add a new state.",
    "editor.defaultStateTitle": "New state",
    "editor.defaultStateMessage": "Add message copy",
    "editor.toast.autosaveFailed": "Autosave failed. Retry?",
    "editor.toast.addStateSuccess": "State added.",
    "editor.toast.addStateError": "Could not add state.",
    "editor.toast.deleteStateSuccess": "State deleted.",
    "editor.toast.deleteStateError": "Could not delete state.",
    "editor.toast.duplicateStateSuccess": "State duplicated.",
    "editor.toast.duplicateStateError": "Could not duplicate state.",
    "editor.toast.elementDeleted": "Element deleted.",
    "editor.toast.elementDeleteError": "Could not delete element.",
    "editor.toast.titleRequired": "Title is required.",
    "editor.toast.figmaRequired": "Figma URL is required.",
    "editor.toast.saveElementError": "Failed to save element.",
    "state.copyMessage": "Copy message",
    "state.copyLabelMessage": "Copy label + message",
    "state.copied": "Copied.",
    "state.copyFailed": "Copy failed.",
    "state.details": "Details",
    "state.conditionPlaceholder": "Condition / trigger",
    "state.severityPlaceholder": "Severity / priority",
    "state.localePlaceholder": "Locale",
    "state.addMetaHint": "Add conditions, severity, or locale.",
    "state.deleteTitle": "Delete this state?",
    "state.deleteDescription":
      "This removes the copy and metadata permanently.",
    "state.duplicate": "Duplicate",
    "state.moveUp": "Move up",
    "state.moveDown": "Move down",
    "state.shortLabelPlaceholder": "Short label",
    "state.messagePlaceholder": "Write the main message copy...",
    "state.conditionBadge": "Condition: {value}",
    "state.severityBadge": "Severity: {value}",
    "state.localeBadge": "Locale: {value}",
    "new.headerLabel": "New element",
    "new.headerTitle": "Capture a Figma element",
    "new.headerSubtitle":
      "Paste a Figma link, upload a snapshot, and move straight to states.",
    "new.detailsTitle": "Element details",
    "new.detailsDescription":
      "Add the link and optional metadata so the element is easy to find.",
    "new.figmaLabel": "Figma link",
    "new.figmaPlaceholder": "https://www.figma.com/file/...",
    "new.figmaDetected": "Figma link detected",
    "new.figmaInvalid": "This does not look like a Figma link",
    "new.tipNodeLink":
      "Tip: Copy the node link from Figma to keep file and node IDs.",
    "new.fileChip": "File {value}",
    "new.nodeChip": "Node {value}",
    "new.titleOptional": "Title (optional)",
    "new.titlePlaceholder": "Login form, Empty state",
    "new.projectOptional": "Project (optional)",
    "new.projectPlaceholder": "Choose a project",
    "new.projectHint": "Keep related components together for faster search.",
    "new.createButton": "Create element",
    "new.creatingButton": "Creating...",
    "new.submitHint": "Add a valid Figma link and an image to continue.",
    "new.screenshotTitle": "Screenshot",
    "new.screenshotDescription":
      "Upload the exact UI snippet you are documenting.",
    "new.dragTitle": "Drag and drop or click to upload",
    "new.dragSubtitle": "PNG, JPG, SVG up to 6MB",
    "new.clickReplace": "Click to replace",
    "new.remove": "Remove",
    "new.toast.pasteLink": "Paste a Figma link.",
    "new.toast.invalidLink": "Please paste a valid Figma link.",
    "new.toast.uploadImage": "Upload an image of the element.",
    "new.toast.created": "Element created.",
    "new.toast.createError": "Could not create element.",
    "panel.title": "What happens next",
    "panel.subtitle":
      "You will land in the editor with autosave and share links ready.",
    "panel.required": "Required",
    "panel.figmaLink": "Figma link",
    "panel.imageUpload": "Image upload",
    "panel.after": "After creation",
    "panel.step1": "Start adding error, warning, and helper states.",
    "panel.step2": "Copy all states or export JSON instantly.",
    "panel.step3": "Share a read-only link with stakeholders.",
    "right.preview": "Preview",
    "right.zoomHint": "Zoom and inspect",
    "right.zoomOut": "Zoom out",
    "right.zoomIn": "Zoom in",
    "right.zoomReset": "Reset zoom",
    "right.dropReplace": "Drop to replace image",
    "right.replaceImage": "Replace image",
    "right.uploading": "Uploading...",
    "right.actions": "Actions",
    "right.actionsHint": "Share or export the states.",
    "right.copyShare": "Copy share link",
    "right.copyAll": "Copy all states",
    "right.exportJson": "Export JSON",
    "right.openFigma": "Open in Figma",
    "right.toast.shareCopied": "Share link copied.",
    "right.toast.shareError": "Could not copy link.",
    "right.toast.copyAllSuccess": "All states copied.",
    "right.toast.copyAllError": "Could not copy states.",
    "right.toast.imageUpdated": "Image updated.",
    "right.toast.imageUpdateError": "Could not update image.",
    "viewer.sharedLabel": "Shared element",
    "viewer.updated": "Updated {date}",
    "viewer.statesCount": "States: {count}",
    "viewer.groupCount": "{count} states",
    "viewer.copyAll": "Copy all states",
    "viewer.copyResults": "Copy results",
    "viewer.projectLabel": "Project",
    "viewer.viewProject": "View project",
    "viewer.elementsCount": "Elements: {count}",
    "viewer.searchPlaceholder": "Search title, message, condition...",
    "viewer.searchLabel": "Search states",
    "viewer.showing": "Showing {shown} of {total}",
    "viewer.noStates":
      "No states yet. Share this link once the copy is ready.",
    "viewer.noMatch": "No states match your search.",
    "viewer.copyGroup": "Copy group",
    "viewer.resultsCopied": "Results copied.",
    "viewer.groupCopied": "Group copied.",
    "viewer.copyFailed": "Copy failed.",
    "project.label": "Project",
    "project.searchPlaceholder": "Search elements...",
    "project.searchLabel": "Search elements",
    "project.showing": "Showing {shown} of {total}",
    "project.empty": "This project doesn't have any elements yet.",
    "project.noMatch": "No elements match your search.",
    "project.updated": "Updated {date}",
    "project.elementsCount": "Elements: {count}",
    "project.fileKey": "File {value}",
    "project.noFileKey": "No file key",
    "common.cancel": "Cancel",
    "common.delete": "Delete",
    "common.create": "Create",
    "common.save": "Save changes",
    "common.clearSearch": "Clear search",
  },
  ru: {
    "language.label": "Язык",
    "language.en": "EN",
    "language.ru": "RU",
    "sidebar.library": "Библиотека",
    "sidebar.elements": "Элементы",
    "sidebar.newElement": "Новый элемент",
    "sidebar.project": "Проект",
    "sidebar.newProject": "Новый проект",
    "sidebar.createProjectTitle": "Создать проект",
    "sidebar.projectName": "Название проекта",
    "sidebar.projectDescription": "Описание (необязательно)",
    "sidebar.create": "Создать",
    "sidebar.searchPlaceholder": "Поиск по названию, ключу файла, проекту...",
    "sidebar.noMatches": "Ничего не найдено.",
    "sidebar.createElement": "Создать элемент",
    "sidebar.groupElements": "Элементы",
    "sidebar.projectNameRequired": "Название проекта обязательно.",
    "sidebar.projectCreated": "Проект создан.",
    "sidebar.projectCreateError": "Не удалось создать проект.",
    "sidebar.allProjects": "Все проекты",
    "editor.editDetailsTitle": "Редактировать элемент",
    "editor.editDetailsDescription":
      "Обновите название и ссылку Figma для этого элемента.",
    "editor.titleLabel": "Название",
    "editor.figmaLinkLabel": "Ссылка Figma",
    "editor.openInFigma": "Открыть в Figma",
    "editor.fileKeyNotParsed": "Ключ файла не извлечен",
    "editor.deleteElement": "Удалить элемент",
    "editor.deleteElementTitle": "Удалить этот элемент?",
    "editor.deleteElementDescription":
      "Элемент и все его состояния будут удалены.",
    "editor.addState": "Добавить состояние",
    "editor.filterTitle": "Фильтр и поиск",
    "editor.searchPlaceholder": "Поиск по названию, тексту, условию, локали...",
    "editor.clearFilters": "Сбросить фильтры",
    "editor.all": "Все",
    "editor.filterTip": "Совет: выберите тип или используйте поиск по тексту.",
    "editor.reorderTip": "Сортировка доступна, когда фильтры не применены.",
    "editor.statesTitle": "Состояния",
    "editor.statesCount": "Показано {shown} из {total}",
    "editor.quickAdd": "Быстро добавить",
    "editor.emptyStates":
      "Пока нет состояний. Добавьте первое сообщение.",
    "editor.addStateCta": "Добавить состояние",
    "editor.searchLabel": "Поиск",
    "editor.shortcutPrefix": "Совет: нажмите",
    "editor.shortcutSuffix": "чтобы добавить новое состояние.",
    "editor.defaultStateTitle": "Новое состояние",
    "editor.defaultStateMessage": "Добавьте текст сообщения",
    "editor.toast.autosaveFailed": "Автосохранение не удалось. Повторить?",
    "editor.toast.addStateSuccess": "Состояние добавлено.",
    "editor.toast.addStateError": "Не удалось добавить состояние.",
    "editor.toast.deleteStateSuccess": "Состояние удалено.",
    "editor.toast.deleteStateError": "Не удалось удалить состояние.",
    "editor.toast.duplicateStateSuccess": "Состояние продублировано.",
    "editor.toast.duplicateStateError": "Не удалось продублировать состояние.",
    "editor.toast.elementDeleted": "Элемент удален.",
    "editor.toast.elementDeleteError": "Не удалось удалить элемент.",
    "editor.toast.titleRequired": "Название обязательно.",
    "editor.toast.figmaRequired": "Ссылка Figma обязательна.",
    "editor.toast.saveElementError": "Не удалось сохранить элемент.",
    "state.copyMessage": "Копировать текст",
    "state.copyLabelMessage": "Копировать название + текст",
    "state.copied": "Скопировано.",
    "state.copyFailed": "Не удалось скопировать.",
    "state.details": "Детали",
    "state.conditionPlaceholder": "Условие / триггер",
    "state.severityPlaceholder": "Важность / приоритет",
    "state.localePlaceholder": "Локаль",
    "state.addMetaHint": "Добавьте условия, важность или локаль.",
    "state.deleteTitle": "Удалить это состояние?",
    "state.deleteDescription": "Текст и метаданные будут удалены.",
    "state.duplicate": "Дублировать",
    "state.moveUp": "Вверх",
    "state.moveDown": "Вниз",
    "state.shortLabelPlaceholder": "Короткое название",
    "state.messagePlaceholder": "Введите основной текст...",
    "state.conditionBadge": "Условие: {value}",
    "state.severityBadge": "Важность: {value}",
    "state.localeBadge": "Локаль: {value}",
    "new.headerLabel": "Новый элемент",
    "new.headerTitle": "Зафиксируйте элемент Figma",
    "new.headerSubtitle":
      "Вставьте ссылку Figma, загрузите скрин и переходите к состояниям.",
    "new.detailsTitle": "Детали элемента",
    "new.detailsDescription":
      "Добавьте ссылку и метаданные, чтобы элемент было проще найти.",
    "new.figmaLabel": "Ссылка Figma",
    "new.figmaPlaceholder": "https://www.figma.com/file/...",
    "new.figmaDetected": "Ссылка Figma распознана",
    "new.figmaInvalid": "Похоже, это не ссылка Figma",
    "new.tipNodeLink":
      "Совет: копируйте ссылку на ноду из Figma, чтобы сохранить ID.",
    "new.fileChip": "Файл {value}",
    "new.nodeChip": "Нода {value}",
    "new.titleOptional": "Название (опционально)",
    "new.titlePlaceholder": "Форма логина, Пустое состояние",
    "new.projectOptional": "Проект (опционально)",
    "new.projectPlaceholder": "Выберите проект",
    "new.projectHint": "Храните связанные элементы вместе для быстрого поиска.",
    "new.createButton": "Создать элемент",
    "new.creatingButton": "Создание...",
    "new.submitHint": "Добавьте ссылку Figma и изображение.",
    "new.screenshotTitle": "Скриншот",
    "new.screenshotDescription":
      "Загрузите точный фрагмент интерфейса для документации.",
    "new.dragTitle": "Перетащите или нажмите для загрузки",
    "new.dragSubtitle": "PNG, JPG, SVG до 6MB",
    "new.clickReplace": "Нажмите, чтобы заменить",
    "new.remove": "Удалить",
    "new.toast.pasteLink": "Вставьте ссылку Figma.",
    "new.toast.invalidLink": "Пожалуйста, используйте корректную ссылку Figma.",
    "new.toast.uploadImage": "Загрузите изображение элемента.",
    "new.toast.created": "Элемент создан.",
    "new.toast.createError": "Не удалось создать элемент.",
    "panel.title": "Что дальше",
    "panel.subtitle":
      "Вы попадете в редактор с автосохранением и ссылкой для шаринга.",
    "panel.required": "Обязательно",
    "panel.figmaLink": "Ссылка Figma",
    "panel.imageUpload": "Загрузка изображения",
    "panel.after": "После создания",
    "panel.step1": "Начните добавлять состояния ошибок, предупреждений и подсказок.",
    "panel.step2": "Копируйте все состояния или экспортируйте JSON мгновенно.",
    "panel.step3": "Поделитесь ссылкой для просмотра со стейкхолдерами.",
    "right.preview": "Превью",
    "right.zoomHint": "Приближайте и изучайте",
    "right.zoomOut": "Уменьшить",
    "right.zoomIn": "Увеличить",
    "right.zoomReset": "Сбросить масштаб",
    "right.dropReplace": "Отпустите для замены",
    "right.replaceImage": "Заменить изображение",
    "right.uploading": "Загрузка...",
    "right.actions": "Действия",
    "right.actionsHint": "Поделитесь или экспортируйте состояния.",
    "right.copyShare": "Скопировать ссылку",
    "right.copyAll": "Скопировать все состояния",
    "right.exportJson": "Экспорт JSON",
    "right.openFigma": "Открыть в Figma",
    "right.toast.shareCopied": "Ссылка скопирована.",
    "right.toast.shareError": "Не удалось скопировать ссылку.",
    "right.toast.copyAllSuccess": "Все состояния скопированы.",
    "right.toast.copyAllError": "Не удалось скопировать состояния.",
    "right.toast.imageUpdated": "Изображение обновлено.",
    "right.toast.imageUpdateError": "Не удалось обновить изображение.",
    "viewer.sharedLabel": "Расшаренный элемент",
    "viewer.updated": "Обновлено {date}",
    "viewer.statesCount": "Состояния: {count}",
    "viewer.groupCount": "{count} шт.",
    "viewer.copyAll": "Скопировать все состояния",
    "viewer.copyResults": "Скопировать результаты",
    "viewer.projectLabel": "Проект",
    "viewer.viewProject": "К проекту",
    "viewer.elementsCount": "Элементов: {count}",
    "viewer.searchPlaceholder": "Поиск по названию, тексту, условию...",
    "viewer.searchLabel": "Поиск состояний",
    "viewer.showing": "Показано {shown} из {total}",
    "viewer.noStates": "Пока нет состояний. Поделитесь ссылкой позже.",
    "viewer.noMatch": "Нет состояний по запросу.",
    "viewer.copyGroup": "Скопировать группу",
    "viewer.resultsCopied": "Результаты скопированы.",
    "viewer.groupCopied": "Группа скопирована.",
    "viewer.copyFailed": "Не удалось скопировать.",
    "project.label": "Проект",
    "project.searchPlaceholder": "Поиск элементов...",
    "project.searchLabel": "Поиск элементов",
    "project.showing": "Показано {shown} из {total}",
    "project.empty": "В этом проекте пока нет элементов.",
    "project.noMatch": "Нет элементов по запросу.",
    "project.updated": "Обновлено {date}",
    "project.elementsCount": "Элементов: {count}",
    "project.fileKey": "Файл {value}",
    "project.noFileKey": "Нет ключа файла",
    "common.cancel": "Отмена",
    "common.delete": "Удалить",
    "common.create": "Создать",
    "common.save": "Сохранить изменения",
    "common.clearSearch": "Очистить поиск",
  },
} as const;

export type Lang = keyof typeof translations;
export type TranslationKey = keyof typeof translations.en;

export function t(
  lang: Lang,
  key: TranslationKey,
  vars?: Record<string, string | number>,
) {
  const template = translations[lang][key] ?? translations.en[key] ?? key;
  if (!vars) return template;
  return Object.entries(vars).reduce((acc, [varKey, value]) => {
    return acc.replaceAll(`{${varKey}}`, String(value));
  }, template);
}

export const stateTypeLabels: Record<Lang, Record<ElementStateType, string>> = {
  en: {
    error: "Error",
    warning: "Warning",
    success: "Success",
    info: "Info",
    helper: "Helper",
    empty: "Empty",
    accessibility: "Accessibility",
    other: "Other",
  },
  ru: {
    error: "Ошибка",
    warning: "Предупреждение",
    success: "Успех",
    info: "Инфо",
    helper: "Подсказка",
    empty: "Пустое",
    accessibility: "Доступность",
    other: "Другое",
  },
};

export function stateTypeLabel(lang: Lang, type: ElementStateType) {
  return stateTypeLabels[lang]?.[type] ?? stateTypeLabels.en[type] ?? type;
}
